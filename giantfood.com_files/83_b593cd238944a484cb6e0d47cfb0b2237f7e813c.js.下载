/*! License information can be found in extracted-comments.js */
(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{Q3uD:function(e,t,n){"use strict";function r(e){var t={};if(t.productId=e.productId,t.quantity=e.newQuantity,t.amount=e.priceDifference,e.couponCode&&null!==e.couponCode&&(t.couponCode=e.couponCode),e.logLocation&&(t.location=e.logLocation),e.adLogging&&null!==e.myWebGrocer.adOrigin&&(t.adOrigin=e.myWebGrocer.adOrigin),e.index&&(t.index=e.index),e.keywords&&(t.keywords=e.keywords),e.region&&(t.region=e.region),e.scheduledContentId&&(t.scheduledContentId=e.scheduledContentId),e.contentId&&(t.contentId=e.contentId),e.contentModuleId&&(t.contentModuleId=e.contentModuleId),e.productData&&!e.otherInfo){var n=e.productData.flags;t.index=e.productData.index+1,t.sale=n&&n.sale,t.newArrival=n&&n.newArrival,t.sponsored=!!e.productData.hasElevaateSponsoredInfo}t.currentRoute=window.location.pathname,_.isObject(e.otherInfo)&&_.each(e.otherInfo,(function(e,n){"pagination"===n?e&&(t.numProducts=e.total,t.start=e.start):!angular.isObject(e)&&angular.isString(n)&&(t[n]=e)})),sharedVue.$store.dispatch("TrackGtm/trackCartChange",e),Vue.prototype.$trackClientLog(e.eventType,t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=sharedVue.$store.getters["ScheduledContent/currentScheduledContent"],a=e.logName,i=o.scheduledContentId||e.scheduledContentId,s=o.contentId||e.contentId,c=_.has(o,"contentModuleId")?o.contentModuleId:e.contentModuleId,l=o.region||e.region,d=e.prevQuantity,u=e.productData,p=l||t.toLowerCase(),h=e.qty,m=Math.abs(h-d),g="product"===u.type?u.salePrice.replace(/[^\d.-]/g,""):u.price,v=Math.round((h-d)*Number(g)*100)/100,f=e.splashLogLocation?e.splashLogLocation:t,y={eventType:a,productId:u.prodId,quantityIncrement:m,newQuantity:h,priceDifference:v,logLocation:f,keywords:n,region:p,scheduledContentId:i,contentId:s,contentModuleId:c,productData:u};r(y)}function a(e){var t,n,r=e.scheduledContentId,o=e.contentId,a=e.region,i={contentModuleId:e.contentModuleId,scheduledContentId:r,contentId:o,region:a};"External Link"===e.type&&(i=Object.assign({targetUrl:e.url},i)),o&&r&&(Vue.prototype.$trackClientLog("content_click",i),(n={}).promoClick={promotions:[{id:(t=e).contentModuleId,name:t["Friendly Tracking Description"],position:t.region}]},sharedVue.$store.dispatch("TrackGtm/track",{event:"gt-promotion-click",payload:{ecommerce:n}}))}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},UzKf:function(e,t,n){"use strict";n.r(t);var r=n("L2JU"),o=n("uEN3"),a=n("Q3uD"),i=n("oJZY");function s(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var c={get(e){return(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.ApiService.get("/api/v3.0/user/last-order",{payload:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}};function l(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={config:{home_page_hero:{limit:100},home_page_promonav:{limit:1},home_page_body:{limit:10},home_page_gallery:{limit:5},home_page_content:{},home_page_content_2:{},home_page_content_3:{},home_page_tiles:{}}},g={components:{MobileNameBar:function(){return n.e(92).then(n.bind(null,"a0+h"))},PdlCustomerInformation:function(){return n.e(95).then(n.bind(null,"32VI"))},PdlFillCartBar:function(){return n.e(90).then(n.bind(null,"cS44"))}},data:function(){return{hasPromoContent:!1,contentData:[],kwmItems:[],promoKwm:[],regionData:[],productsData:{},homeContent:{},homeBodyData:{},homeBody:{},homePromoNav:{},homeContent2:{},homeContent3:{},largeTileData:{},largeTileSet:{},homePageGalleryData:{},homePageGallerySet:{}}},computed:p(p({},Object(r.mapGetters)({isMobile:"ScreenSize/isMobile",isTablet:"ScreenSize/isTablet",isDesktop:"ScreenSize/isDesktop",isMobileApp:"NativeContainer/isMobileApp",displayFirstName:"UserProfile/displayFirstName",timeTravelDate:"ScheduledContent/timeTravelDate",cartItems:"Cart/getCartItems",userInfo:"UserProfile/userInfo"})),{},{showMobileNameBar(){return this.isMobile&&!this.isMobileApp&&!!this.displayFirstName},isSuperUserEnabled(){return this.$store.getters["SuperUser/isEnabled"]},hasNotification(){return this.$store.getters["Notifications/count"]>0},cmsContent(){var e=[];return e.push(this.homePromoNav,this.homeBody,this.homeContent,this.homePageGallerySet,this.homeContent2,this.largeTileSet,this.homeContent3),e},programName(){return this.varByName("brand_rewards_program_name")},gasPointsExcentusTotal(){var e=this.$store.getters["RewardsAndPrograms/gasPointsExcentus"];return e?e.reduce((function(e,t){return e+t.balanceToExpire*("CPG"===t.rewardType?1e3:1)}),0):0},flexUpgradeConfirmationMessage(){return this.resourceByName("REWARDS_FUEL_ACTIVATION_CONFIRMATION")},flexUpgradeFailureMessage(){return this.resourceByName("REWARDS_FUEL_ACTIVATION_FAILURE")},flexUpgradePointsFailureMessage(){return this.resourceByName("REWARDS_FUEL_ACTIVATION_PTS_FAILURE")},landingPageId(){return this.$route.query[606]||this.$route.query.lp},canShowModule(){var e,t;return this.isCartEmpty&&(null===(e=this.productsData.data)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.products.length)},isCartEmpty(){return 0===this.cartItems.length},homePromoConfig(){return{home_page_promo:{limit:1,ff:{"Landing Page Id":[this.landingPageId||"default"]}}}},screenSize(){return this.isMobile?"mobile":this.isTablet?"tablet":this.isDesktop?"desktop":""},slotsHomepageCallActive(){return!!this.varByName("feature_slots_homepage_request")},slotPromoActive(){return!!this.varByName("feature_slot_promotion")&&this.slotsHomepageCallActive},orderPromoActive(){return!!this.varByName("feature_order_status")&&this.slotsHomepageCallActive}}),watch:{timeTravelDate(e,t){e&&e!==t&&(this.regionData=[],this.getContentData())},screenSize(e,t){e&&e!==t&&(this.regionData=[],this.getContentData())}},created(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLastOrder();case 2:if(!e.landingPageId){t.next=5;break}return t.next=5,e.getHomePagePromos();case 5:return t.prev=5,n=window.sharedVue.NativeContainer,t.next=9,n.isEnabledPromise();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(5),r={error:JSON.stringify(t.t0)},e.$trackClientLog("nativeContainerStopLoadingError",r,"EX");case 15:e.getContentData(),e.$store.dispatch("TrackGtm/track",{event:"gt-home-page"});case 17:case"end":return t.stop()}}),t,null,[[5,11]])})))()},methods:p(p(p({},Object(r.mapActions)({initOrderStatus:"Order/initOrderStatus"})),Object(r.mapActions)({updateCartItems:"Cart/updateCartItems"})),{},{getLastOrder(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={facetExcludeFilter:!0,includeSample:!1,productStatus:"A",useOrderPrice:!1,excludeDeleted:!1},t.next=3,c.get(n);case 3:r=t.sent,e.productsData=r;case 5:case"end":return t.stop()}}),t)})))()},getContentData(){var e=this;this.$store.dispatch("ScheduledContent/queryRegion",{region:m.config,version:"v3.0"}).then((function(t){e.contentData=t.response.regionContents,e.showContent(),e.setContentData(e.contentData)}))},showContent(){if(this.kwmItems=[],this.hasPromoContent)this.kwmItems=o.a.groupScheduledEntry(this.promoKwm);else{var e=this.contentData.filter((function(e){return"home_page_hero"===e.region}))[0];this.kwmItems=o.a.groupScheduledEntry(e)}},setContentData(e){this.homeContent={genericContent:!0,data:e.filter((function(e){return"home_page_content"===e.region}))[0]},this.homeBodyData=e.filter((function(e){return"home_page_body"===e.region}))[0],this.homeBody={contentTiles:!0,data:o.a.groupScheduledEntry(this.homeBodyData)};var t=e.filter((function(e){return"home_page_promonav"===e.region}))[0];this.homePromoNav={genericContent:!0,data:this.getPromoNavContentData(t)},this.homeContent2={genericContent:!0,data:e.filter((function(e){return"home_page_content_2"===e.region}))[0]},this.homeContent3={genericContent:!0,data:e.filter((function(e){return"home_page_content_3"===e.region}))[0]},this.largeTileData=e.filter((function(e){return"home_page_tiles"===e.region}))[0],this.largeTileSet={largeTileCarousel:!0,data:o.a.groupScheduledEntry(this.largeTileData)},this.homePageGalleryData=e.filter((function(e){return"home_page_gallery"===e.region}))[0],this.homePageGallerySet={simpleTiles:!0,data:o.a.groupScheduledEntry(this.homePageGalleryData)}},getHomePagePromos(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("ScheduledContent/queryRegion",{region:e.homePromoConfig});case 2:o=t.sent,(a=null==o||null===(n=o.response)||void 0===n?void 0:n.regionContents).length&&null!==(r=a[0])&&void 0!==r&&r.contents.length&&(e.promoKwm=a[0],e.hasPromoContent=!0);case 5:case"end":return t.stop()}}),t)})))()},getPromoNavContentData(e){if(e&&e.contents.length){var t=e.contents[0].map.scheduledContentData.map.parts.myArrayList.slice(0,6);return e.contents[0].map.scheduledContentData.map.parts.myArrayList=t,e}return[]},redirect(e){if(this.$store.dispatch("ShoppingMode/setStoreConfirmationState",!1),o.a.sendClickTrackFromGeneric(e),"External Link"!==e.type)return e.url.contains("modal/slots")?(this.$store.commit("ServiceSelection/setSuppressBrowseMode",!0),void this.$store.commit("Modals/setActiveModal",{fileName:"PdlServiceSelectionModal"})):void this.$router.push(e.url)},getOrderStatus(){this.initOrderStatus(!0)},goToPastPurchase(){this.$store.commit("ProductTile/setPPTime","last"),this.$router.push("/past-purchases/last")},varByName(e){return this.$store.getters["SiteConfig/varByName"](e)},resourceByName(e){return this.$store.getters["SiteConfig/resourceByName"](e)},openAlert(e){switch(e){case"upgrade-to-flex":this.onTriggerFuelToFlexUpgrade()}},onTriggerFuelToFlexUpgrade(){var e=this,t="STSH"===this.opco?"Activate":"Upgrade to",n="STSH"===this.opco?"Yes":"Continue";this.$store.commit("Alert/setAlert",{icon:!1,type:"confirmation",header:"".concat(t," ").concat(this.programName),body:this.flexUpgradeConfirmationMessage,primary:{text:n,callback:this.upgradeFuelToFlex},secondary:{text:"Cancel",color:"fourth",callback:function(){e.$track("rewards-activation-cancellation",{program:e.programName,gasPointsAvailable:e.gasPointsExcentusTotal})}}})},upgradeFuelToFlex(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$track("rewards-activation-confirmation",{program:e.programName,gasPointsAvailable:e.gasPointsExcentusTotal}),t.prev=1,t.next=4,e.$store.dispatch("RewardsAndPrograms/setRewardsPreferenceToFlex");case 4:"-2"===t.sent&&e.$store.commit("Alert/setAlert",{icon:!1,type:"error",header:"Error",body:e.flexUpgradePointsFailureMessage,primary:{text:"Okay",callback:function(){}}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.$store.commit("Alert/setAlert",{icon:!1,type:"error",header:"Error",body:e.flexUpgradeFailureMessage,primary:{text:"Okay",callback:function(){}}});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},openAuthenticationModal(){var e=this.$store.getters["LoyaltyAccount/isLoyaltyRegistered"],t=this.$store.getters["LoginStatus/hasHandle"];e||!t?this.$router.push("/modal/login"):this.$router.push("/modal/registration")},openGenericModal(e,t){this.$router.push(t),this.$trackGtmEvent("gt-navigation",{navLocation:"home",navElementText:"".concat(e),navURL:"".concat(t)})},updateCart(e){Object(a.a)(e)},openVideo(e){this.$store.commit("ScheduledContent/setVideoId",e.videoId),this.$store.commit("Modals/setActiveModal",{fileName:"PdlVideoModal",style:"modal_base-medium modal_base-video"}),o.a.sendClickTrackFromGeneric(e)}})},v=n("KHd+"),f=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showMobileNameBar?n("MobileNameBar",{attrs:{name:e.displayFirstName}}):e._e(),e._v(" "),n("div",{staticClass:"margin-bottom--one pdl-generic-content_container--max"},[e.isDesktop?e._e():n("PdlShoppingModeTilePair",{attrs:{"is-tablet":e.isTablet}}),e._v(" "),e.kwmItems.length?n("PdlKwmCarousel",{attrs:{"kwm-items":e.kwmItems},on:{redirect:e.redirect}}):e._e()],1),e._v(" "),n("div",{staticClass:"product-view-search"},[n("div",[e.isSuperUserEnabled&&e.isMobile?n("PdlCustomerInformation"):e._e(),e._v(" "),e.hasNotification&&e.isMobile?n("PdlNotificationBarMobile",{staticClass:"pdl-notification-bar-mobile"}):e._e(),e._v(" "),e.canShowModule?n("PdlFillCartBar",{attrs:{"products-data":e.productsData},on:{"go-to-past-purchase":e.goToPastPurchase}}):e._e(),e._v(" "),e.slotPromoActive?n("PdlSlotPromotion",{on:{"slot-changed":e.getOrderStatus}}):e._e(),e._v(" "),e.orderPromoActive?n("PdlOrderPromos"):e._e(),e._v(" "),e.isSuperUserEnabled&&!e.isMobile?n("PdlCustomerInformation"):e._e()],1),e._v(" "),n("div",{staticClass:"product-view"},e._l(e.cmsContent,(function(t,r){return n("div",{key:r},[t.genericContent&&t.data&&t.data.contents?n("div",e._l(t.data.contents,(function(t,r){return n("PdlGenericContentRegion",{key:r,attrs:{"content-data":t.map},on:{redirect:e.redirect,"update-cart":e.updateCart,"open-auth-modal":e.openAuthenticationModal,"open-generic-modal":e.openGenericModal,"video-clicked":e.openVideo,"simple-redirect":e.redirect,"open-alert":e.openAlert}})})),1):e._e(),e._v(" "),t.largeTileCarousel?n("PdlLargeTileCarousel",{attrs:{items:t.data},on:{redirect:e.redirect,"video-clicked":e.openVideo}}):e._e(),e._v(" "),t.contentTiles?n("div",{staticClass:"content-tile_wrapper home-tile_wrapper pdl-generic-content_container--max"},e._l(t.data,(function(t,r){return n("PdlContentBase",{key:r,attrs:{"content-data":t.content,"scheduled-data":t.scheduledContentData},on:{"content-clicked":e.redirect,"video-clicked":e.openVideo,"complete-retailer-card":e.completeRetailerCard}})})),1):e._e(),e._v(" "),t.simpleTiles?n("PdlSimpleTileCarousel",{attrs:{items:t.data},on:{redirect:e.redirect,"video-clicked":e.openVideo}}):e._e()],1)})),0)]),e._v(" "),n("PdlGlobalFooter"),e._v(" "),n("PdlOrderRatingBar")],1)}),[],!1,null,null,null);t.default=f.exports},uEN3:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configParentElement=void 0,this.currentInterwovenConfig=void 0,this.configRegion=void 0,this.interweaveRegion=[],this.loggedInterwovenIds=[]}var t,n,o;return t=e,(n=[{key:"setConfig",value:function(e){var t=e.parentElement,n=e.region;this.configParentElement=t,this.configRegion=n,this.loggedInterwovenIds.length=0}},{key:"fetchContentData",value:function(e){var t=this;return _.isEmpty(e)?Promise.resolve():window.sharedVue.$store.dispatch("ScheduledContent/queryRegion",{region:e}).then((function(e){var n=e.response.regionContents,r=n.length?n[0]:[];return t.interweaveRegion=null!=r&&r.contents?r.contents:[],n}))}},{key:"processShelfContent",value:function(e,t){var n=this,r=["Content: Text Tile","Content: Tile","Content Module: PodPass Promo"],o=this.interweaveRegion.filter((function(e){return r.includes(e.map.moduleType)})),a=[],i=[],s=t,c=0;return this.interweaveRegion.forEach((function(e){var t=e.map,l={};if(r.includes(t.moduleType)&&!function(e){return!!i.length&&_.flatten(i).some((function(t){return t.map.id===e.id}))}(t)){var d=o.slice(c,c+s);l.full=!0,l.isContentTile=!0,l.layout=[],d.forEach((function(e){l.layout.push(n.groupIndividualScheduledEntry(e.map))})),i.push(d),c+=s,a.push(l)}if("Content: Quotient Ad"===t.moduleType&&(l.isAds=!0,l.layout=n.groupIndividualScheduledEntry(t),a.push(l)),"Content: Multipanel"===t.moduleType){var u={isMultiPanel:!0,items:t.scheduledContentData.map.parts.myArrayList,parent:n.getScheduledData(t)};a.push(u)}})),a}},{key:"removeContentData",value:function(){this.interwovenContentData=Object.create(null)}},{key:"groupIndividualScheduledEntry",value:function(e){var t={};return t.scheduledContentData=this.getScheduledData(e),t.content=Object.assign({moduleType:t.scheduledContentData.moduleType},e.scheduledContentData.map),t}},{key:"groupScheduledEntry",value:function(e){var t=this,n=[];return e&&e.contents?(e.contents.forEach((function(e){var r={};r.scheduledContentData=t.getScheduledData(e.map),r.content=Object.assign({moduleType:r.scheduledContentData.moduleType},e.map.scheduledContentData.map),n.push(r)})),n):n}},{key:"getScheduledData",value:function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];e.scheduledContentData.key&&(t["Content Container Key"]=e.key),e.Opcos&&(t.Opcos=e.Opcos),e["Customer Status"]&&(t["Customer Status"]=e["Customer Status"]),e["Customer Type"]&&(t["Customer Type"]=e["Customer Type"]),e["Device Type (Screen Size)"]&&(t["Device Type (Screen Size)"]=e["Device Type (Screen Size)"]),e["App Targeting"]&&(t["App Targeting"]=e["App Targeting"]),"moduleType"===n&&(t.moduleType="Content Module:".concat(e.moduleType.split(":")[1]),t.contentType=e.moduleType),"object"!=typeof r&&"moduleType"!==n&&(t[n]=r)})),t}},{key:"sendClickTrackFromGeneric",value:function(e){var t=e.scheduledContentId,n=e.contentId,r=e.region,o={contentModuleId:e.contentModuleId,scheduledContentId:t,contentId:n,region:r};"External Link"===e.type&&(o=Object.assign({targetUrl:e.url},o)),n&&t&&(window.sharedVue.$trackClientLog("content_click",o),this.sendGTMTrack(e))}},{key:"sendViewTrack",value:function(e){var t=e.scheduledContentData.map.key,n=e.key,r=this.loggedInterwovenIds.find((function(e){return e===t}));t&&n&&!r&&(window.sharedVue.$trackClientLog("content_view",{scheduledContentId:n,contentId:t,region:this.configRegion},"E"),this.loggedInterwovenIds.push(t))}},{key:"sendGTMTrack",value:function(e){var t={};t.promoClick={promotions:[{id:e.key,name:e["Friendly Tracking Description"],position:this.configRegion}]},sharedVue.$store.dispatch("TrackGtm/track",{event:"gt-promotion-click",payload:{ecommerce:t}})}}])&&r(t.prototype,n),o&&r(t,o),e}());t.a=o}}]);
//# sourceMappingURL=83_b593cd238944a484cb6e0d47cfb0b2237f7e813c.js.map