/*! License information can be found in extracted-comments.js */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"6H1B":function(e,t,a){"use strict";var r=a("L2JU"),n=a("mJ5D"),s=a("133L");function i(e,t,a,r,n,s,i){try{var o=e[s](i),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(r,n)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={directives:n.a,mixins:[s.a],props:{title:{type:String,default:"Let's confirm your details."},description:{type:String,default:"Confirm your information to set up your loyalty account and receive a rewards card."},cta:{type:String,default:"Finish"},canShowHousehold:{type:Boolean,default:!1},isHaveCardFlow:{type:Boolean,default:!1}},data:function(){return{formError:!1,formData:{atgPrivacySetting:!0,termsAndConditionsAccepted:!0,householdOptOut:void 0}}},computed:c(c(c(c(c(c(c({},Object(r.mapGetters)("FormMessages",["messages"])),Object(r.mapGetters)("SiteConfig",["varByName"])),Object(r.mapGetters)("UserProfile",["userInfo"])),Object(r.mapGetters)("LoyaltyAccount",["cardNumber","firstName","lastName","address","additionalAddress","addressCityStateZip","phone","email","loading","atgPrivacySetting","householdOptOut","lookup","isLoyaltyRegistered"])),Object(r.mapGetters)("ScreenSize",["isMobile"])),Object(r.mapGetters)("NativeContainer",["isMobileApp"])),{},{formMessages(){return this.messages("form")},userEmail(){return this.userInfo?this.userInfo.information.email:""},cardName(){return this.varByName("brand_card_name")},isNewAccount(){return!this.cardNumber},formReady(){return!this.loading},allowEmail(){return this.isHaveCardFlow||!!this.cardNumber&&!this.isLoyaltyRegistered}}),methods:c(c({},Object(r.mapActions)("LoyaltyAccount",["createLoyalty","updateLoyalty","sendEmail"])),{},{onCheckbox(e){var t=e.value,a=e.checked,r="householdOptOut"===t?!a:a;this.formData[t]=r},onClick(e){this.$emit("go-to-step",e)},emitSuccess(){this.$emit("lookup-confirmed",!0),this.$emit("submit-success",{data:this.lookup})},emitFail(){this.formError=!0,this.$emit("registration-review-fail",{data:this.lookup})},onSubmit(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var a,r,n,s,i,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n=c({},t.formData),!t.isNewAccount){e.next=10;break}return e.next=5,t.createLoyalty(c(c({},t.lookup),n));case 5:s=e.sent,i=s.status,a=201===i,e.next=15;break;case 10:return e.next=12,t.updateLoyalty(c(c({},t.lookup),n));case 12:o=e.sent,l=o.status,a=200===l||204===l;case 15:return t.formData.atgPrivacySetting&&r.push("atgPrivacySetting"),t.canShowHousehold&&!t.formData.householdOptOut&&r.push("householdOptOut"),a&&t.sendEmail(),t.trackRegistrationStep("review",a,{registrationOption:r.join(",")}),t.trackRegistration(a,!1),e.abrupt("return",a?t.emitSuccess():t.emitFail());case 21:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){i(s,r,n,o,c,"next",e)}function c(e){i(s,r,n,o,c,"throw",e)}o(void 0)}))})()}})},d=a("KHd+"),m=Object(d.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"form_container stack"},[a("div",{staticClass:"headline headline--top-margin headline--center"},[e.title?a("h2",{directives:[{name:"setfocus",rawName:"v-setfocus"}],staticClass:"headline_heading headline_heading--bold",attrs:{id:"aria_modal-main",tabindex:"-1"}},[e._v("\n        "+e._s(e.title)+"\n      ")]):e._e(),e._v(" "),e.description?a("p",{staticClass:"text--secondary-dark"},[e._v("\n        "+e._s(e.description)+"\n      ")]):e._e()]),e._v(" "),a("div",{staticClass:"stack_row stack_row--sep"},[a("div",{staticClass:"stack_col break-all"},[a("h3",{staticClass:"text--bold"},[e._v("\n          Email Address\n        ")]),e._v(" "),a("p",[a("span",[e._v(e._s(e.userEmail))])])])]),e._v(" "),e.allowEmail?a("div",{staticClass:"stack_row stack_row--sep"},[a("div",{staticClass:"stack_col break-all"},[a("h3",{staticClass:"text--bold"},[e._v("\n          "+e._s(e.cardName)+" Email Address\n        ")]),e._v(" "),a("p",[a("span",[e._v(e._s(e.email))])])]),e._v(" "),a("div",{staticClass:"stack_col stack_col--last"},[a("button",{staticClass:"button button--sixth",attrs:{type:"button"},on:{click:function(t){return e.onClick("loyalty-contact")}}},[e._v("\n          Change\n        ")])])]):e._e(),e._v(" "),e.cardNumber?a("div",{staticClass:"stack_row stack_row--sep"},[a("div",{staticClass:"stack_col"},[a("h3",{staticClass:"text--bold"},[e._v("\n          "+e._s(e.cardName)+"\n        ")]),e._v(" "),a("p",[a("span",[e._v(e._s(e.cardNumber))])])])]):e._e(),e._v(" "),e.address||e.lastName?a("div",{staticClass:"stack_row stack_row--sep"},[a("div",{staticClass:"stack_col"},[a("h3",{staticClass:"text--bold"},[e._v("\n          Address\n        ")]),e._v(" "),a("address",[a("p",[e._v(e._s(e.firstName+" "+e.lastName))]),e._v(" "),a("p",[e._v(e._s(e.address))]),e._v(" "),e.additionalAddress?a("p",[e._v("\n            "+e._s(e.additionalAddress)+"\n          ")]):e._e(),e._v(" "),a("p",[e._v(e._s(e.addressCityStateZip))]),e._v(" "),e.phone?a("p",[e._v("\n            "+e._s(e.phone)+"\n          ")]):e._e()])]),e._v(" "),a("div",{staticClass:"stack_col stack_col--last"},[a("button",{staticClass:"button button--sixth",attrs:{type:"button"},on:{click:function(t){return e.onClick("loyalty-contact")}}},[e._v("\n          Change\n        ")])])]):e._e(),e._v(" "),a("div",{staticClass:"stack_row"},[a("PdlCheckbox",{attrs:{id:"subscription",name:"subscription",label:"Subscribe to Email",value:"atgPrivacySetting",checked:e.formData.atgPrivacySetting},on:{change:e.onCheckbox}},[a("p",{staticClass:"checkbox_sublabel checkbox_sublabel--medium-width text--secondary-dark"},[e._v("\n          Get exclusive access to deals, personalized savings, and meal inspiration.\n        ")])])],1),e._v(" "),e.canShowHousehold?a("div",{staticClass:"stack_row"},[a("PdlCheckbox",{attrs:{id:"sharing",name:"sharing",label:"Household Card Sharing",value:"householdOptOut",checked:!e.formData.householdOptOut},on:{change:e.onCheckbox}},[a("p",{staticClass:"checkbox_sublabel checkbox_sublabel--medium-width text--secondary-dark"},[e._v("\n          Easily share your coupons, points and rewards with anyone who shares your last name and address.\n        ")])])],1):e._e(),e._v(" "),a("div",{staticClass:"stack_row stack_row--footer"},[a("PdlLoadingButton",{attrs:{id:"registration-loyalty-review",label:e.cta,classes:[e.isMobile?"button-width--full":"button-width--med-lg"],"is-loading":e.loading,"is-disabled":!e.formReady},on:{click:e.onSubmit}})],1),e._v(" "),e.formError?a("div",{staticClass:"stack_row stack_row--center"},[a("p",{staticClass:"text--base-strong text--align-center trailer--double text--base-error",attrs:{"aria-live":"polite"}},[a("span",[e._v(e._s(e.formMessages.error))])])]):e._e()])])}),[],!1,null,null,null);t.a=m.exports},Ep0p:function(e,t,a){"use strict";var r=a("L2JU"),n=a("ttfh");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={directives:a("mJ5D").a,mixins:[n.a],data:function(){return{descriptionText:["Access hundreds of coupons and offers to use in-store or online,","and save time with store pickup or home delivery."].join(" "),opcoConfigurations:[{opco:"GNTC",contentID:2902180,GUID:"USBNR"},{opco:"GNTL",contentID:2623892,GUID:"7V9RN"},{opco:"STSH",contentID:2622117,GUID:"JVS9L"},{opco:"MRTN",contentID:2902179,GUID:"H195I"}],opcoConfig:null}},computed:i(i({},Object(r.mapGetters)("SiteConfig",["opco","varByName"])),{},{activeOpcoSettings(){var e=this;return this.opcoConfigurations.find((function(t){return t.opco===e.opco}))},cardName(){return this.varByName("brand_card_name")},cardImageSrc(){return this.getImgSrc("https://i5.peapod.com","".concat(this.activeOpcoSettings.contentID,":").concat(this.activeOpcoSettings.GUID,".png"))}})},l=a("KHd+"),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loyalty-card-status-form form_container headline"},[a("img",{attrs:{src:e.cardImageSrc,alt:e.cardName}}),e._v(" "),a("div",{staticClass:"headline headline--top-padding-none"},[a("h2",{directives:[{name:"setfocus",rawName:"v-setfocus"}],staticClass:"headline_heading headline_heading--bold",attrs:{tabindex:"-1"}},[e._v("\n      Add a "+e._s(e.cardName)+" to clip coupons or shop online\n    ")]),e._v(" "),a("p",{staticClass:"text--secondary-dark leader--double"},[e._v("\n      "+e._s(e.descriptionText)+"\n    ")])]),e._v(" "),a("button",{ref:"has-card-button",staticClass:"has-card button button--third button-width--full trailer--double",on:{click:function(t){return e.$emit("has-card")}}},[e._v("\n    Add Existing Card\n  ")]),e._v(" "),a("button",{ref:"needs-card-button",staticClass:"no-card button button--second button-width--full trailer--double",on:{click:function(t){return e.$emit("needs-card")}}},[e._v("\n    Set up New Card\n  ")])])}),[],!1,null,null,null);t.a=u.exports},KTsZ:function(e,t,a){"use strict";var r=a("L2JU"),n=a("ta7f"),s=a("ttfh"),i=a("mJ5D"),o=a("133L"),c=a("/s+z"),l=a("Jg6X");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={directives:i.a,mixins:[s.a,o.a],props:{heading:{type:String,required:!0},subHeading:{type:String,default:""}},data:()=>({lookup:{lastName:"",cardNumber:""},cardImagePath:{STSH:"2623879:9MBUC.png",GNTL:"2623881:62BO2.png",GNTC:"2952009:XJ0XR.png",MRTN:"2952008:MXSCU.png"}}),computed:d(d(d(d(d({},Object(r.mapGetters)("ScreenSize",["isMobile"])),Object(r.mapGetters)("SiteConfig",["opco","varByName","cardPrefix","cardLength"])),Object(r.mapGetters)("FormMessages",["messages"])),Object(r.mapGetters)("LoyaltyAccount",["invalidLookup","loading","existingCardLookup"])),{},{lastNameMessages(){return this.messages("fields.lastName")},cardName(){return this.varByName("brand_card_name")},brandPhoneNumber(){return this.varByName("brand_help_phone_number")},imgSrc(){return this.getImgSrc("https://i5.peapod.com",this.cardImagePath[this.opco])},cardPlaceholder(){return"Ex. ".concat(this.cardPrefix).concat("0".repeat(this.cardLength-this.cardPrefix.length))}}),watch:{lookup:{deep:!0,handler(){this.setExistingCardLookup(!1),this.setInvalidLookup(!1)}}},methods:d(d(d(d({},Object(r.mapMutations)("LoyaltyAccount",["setExistingCardLookup","setInvalidLookup"])),Object(r.mapActions)("LoyaltyAccount",["lookupCardNumber"])),Object(r.mapActions)("UserProfile",["updateUserProfileData"])),{},{trackStep(e){var t=this.lookup.cardNumber.length>=11?"card":"phone";this.trackRegistrationStep("account lookup",e,{lookupType:t})},handleSubmit(){var e=this,t=this,a=this.lookup,r=a.cardNumber,n=a.lastName;this.lookupCardNumber({cardNumber:r,lastName:n}).then((function(){t.invalidLookup||t.existingCardLookup?e.trackStep(!1):(e.trackStep(!0),e.$emit("lookup-confirmed",!1),e.$emit("submit-success"))}))},handleClick(){this.$emit("submit-success")}}),validations:()=>({lookup:{lastName:c.a,cardNumber:{required:n.required,format(e){return e.length>=11?new RegExp("^".concat(this.cardPrefix,"[0-9]{").concat(this.cardLength-this.cardPrefix.length,"}$")).test(e):new RegExp(l.n).test(e)}}}})},h=a("KHd+"),b=Object(h.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("div",{staticClass:"form_container"},[a("div",[a("img",{attrs:{src:e.imgSrc,alt:""}})]),e._v(" "),a("div",{staticClass:"headline headline--top-padding-none"},[a("h2",{directives:[{name:"setfocus",rawName:"v-setfocus"}],staticClass:"headline_heading headline_heading--bold",attrs:{tabindex:"-1"}},[e._v("\n        "+e._s(e.heading)+"\n      ")]),e._v(" "),e.subHeading?a("p",{staticClass:"text-center"},[e._v("\n        "+e._s(e.subHeading)+"\n      ")]):e._e()]),e._v(" "),a("PdlBasicTextInput",{attrs:{id:"lastname-lookup","field-name":"lastname","input-label":"Last Name",autocomplete:"off","max-length":30,error:e.$v.lookup.lastName.$error,"is-required":!0},scopedSlots:e._u([{key:"errors",fn:function(){return[e.$v.lookup.lastName.$dirty&&!e.$v.lookup.lastName.required?a("span",[e._v("\n          "+e._s(e.lastNameMessages.required)+"\n        ")]):e.$v.lookup.lastName.$dirty&&!e.$v.lookup.lastName.format?a("span",[e._v("\n          "+e._s(e.lastNameMessages.format)+"\n        ")]):e._e()]},proxy:!0}]),model:{value:e.$v.lookup.lastName.$model,callback:function(t){e.$set(e.$v.lookup.lastName,"$model",t)},expression:"$v.lookup.lastName.$model"}}),e._v(" "),a("PdlBasicTextInput",{attrs:{id:"cardNumber-lookup","field-name":"cardNumber","input-label":e.cardName+" or Phone Number",autocomplete:"off",error:e.$v.lookup.cardNumber.$error||e.invalidLookup||e.existingCardLookup,"is-required":!0,"max-length":e.cardLength,"has-helper-text":!0},scopedSlots:e._u([{key:"errors",fn:function(){return[e.$v.lookup.cardNumber.$dirty&&!e.$v.lookup.cardNumber.required||!e.$v.lookup.cardNumber.format?a("span",[e._v("\n          Please enter a valid "+e._s(e.cardLength)+"-digit card number or 10-digit phone number.\n        ")]):e.invalidLookup?a("span",[e._v("\n          We had trouble linking this number to your account and need to verify your information.\n          Please try a different number or call "+e._s(e.brandPhoneNumber)+" for assistance.\n        ")]):e._e(),e._v(" "),e.existingCardLookup?a("span",[e._v("\n          This number is already linked to another account.\n          Sign in or call "+e._s(e.brandPhoneNumber)+" for assistance.\n        ")]):e._e()]},proxy:!0},{key:"helperText",fn:function(){return[e._v("\n        Enter your "+e._s(e.cardLength)+"-digit card number or the 10-digit phone number you use at checkout in-store.\n      ")]},proxy:!0}]),model:{value:e.$v.lookup.cardNumber.$model,callback:function(t){e.$set(e.$v.lookup.cardNumber,"$model",t)},expression:"$v.lookup.cardNumber.$model"}}),e._v(" "),a("div",{staticClass:"forms_button-container forms_button-container--center"},[a("PdlLoadingButton",{attrs:{id:"registration-account-lookup",label:"Continue",classes:[e.isMobile?"button-width--full":"button-width--med"],"is-loading":e.loading,"is-disabled":e.$v.$invalid},on:{click:e.handleSubmit}})],1)],1)])}),[],!1,null,null,null);t.a=b.exports},x7Y7:function(e,t,a){"use strict";var r=a("L2JU"),n=a("ta7f"),s=a("mJ5D"),i=a("33H4"),o=a("/s+z"),c=a("Kpn4"),l=a("riqm"),u=a("Jg6X"),d=a("3AwG"),m=a("133L");function p(e,t,a,r,n,s,i){try{var o=e[s](i),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(r,n)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f={directives:s.a,mixins:[m.a],props:{isHaveCardFlow:{type:Boolean,default:!1}},data:function(){return{contactData:{firstName:"",lastName:"",address:"",additionalAddress:"",city:"",state:"",zip:"",email:"",phone:""},isPhoneUnique:!0,isEmailUnique:!0,formError:!1,formMessage:{},stateMessage:{},zipMessage:{},emailMessage:{},phoneMessage:{},customerCareMessage:"",tooltipMessage:"",noSpecialCharactersMessage:"Email must not contain the following special characters: !#$%&'*/=?^`{|}~",formConfig:[{name:"firstName",label:"First Name",required:!0,maxLength:20},{name:"lastName",label:"Last Name",required:!0,maxLength:30},{name:"address",label:"Street Address",required:!0,maxLength:30},{name:"additionalAddress",label:"Apartment or Suite (optional)",maxLength:30},{name:"city",label:"City",required:!0,maxLength:30}]}},computed:b(b(b({},Object(r.mapGetters)({stateAndDistrictOptions:"FormDataStructures/stateAndDistrictOptions",isMobile:"ScreenSize/isMobile",messages:"FormMessages/messages",brandVars:"SiteConfig/brandVars",opco:"SiteConfig/opco",userInfo:"UserProfile/userInfo",cmdmEnabled:"SiteConfig/cmdmEnabled"})),Object(r.mapGetters)("LoyaltyAccount",["firstName","lastName","address","additionalAddress","city","state","zip","email","phone","loading","cardNumber"])),{},{emailSecondaryLabel(){return this.cmdmEnabled||this.isDisabled?"":"- Excludes: !#$%&'*/=?^`{|}~"},isNewEmail(){return this.contactData.email!==this.email||this.isEmailUnique},isNewPhone(){return this.contactData.phone!==this.phone||this.isPhoneUnique},isContactInfoValid(){return!this.$v.contactData.$invalid},isValidForm(){return this.isContactInfoValid&&this.isNewEmail&&this.isNewPhone},consumerAffairsNumber(){return this.brandVars.consumerAffairsNumber},brandName(){return this.brandVars.name},rewardsProgramName(){return this.brandVars.rewardsProgramName},cardName(){return this.brandVars.cardName},isDisabled(){return!this.isHaveCardFlow&&!this.cardNumber}}),created(){this.updateTooltip()},beforeMount(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLoyalty();case 2:a=t.messages(),r=a.form,n=a.fields,t.formConfig.forEach((function(e){e.errors=n[e.name]})),t.stateMessage=n.state,t.zipMessage=n.loyaltyZip,t.emailMessage=n.email,t.phoneMessage=n.phone,t.formMessage=r,t.customerCareMessage=n.customerCare,t.contactData.firstName=t.firstName,t.contactData.lastName=t.lastName,t.contactData.address=t.address,t.contactData.additionalAddress=t.additionalAddress,t.contactData.city=t.city,t.contactData.state=t.state,t.contactData.zip=t.zip,t.contactData.email=t.isHaveCardFlow||t.cardNumber?t.email:t.userInfo.information.email,t.contactData.phone=t.phone,t.setFormDirty();case 20:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){p(s,r,n,i,o,"next",e)}function o(e){p(s,r,n,i,o,"throw",e)}i(void 0)}))})()},methods:b(b({},Object(r.mapActions)("LoyaltyAccount",["checkUnique","getLoyalty"])),{},{updateStateSelection(e){this.contactData.state=e},isRequiredInputInvalid(e){return this.$v.contactData[e].$dirty&&void 0!==this.$v.contactData[e].required&&!this.$v.contactData[e].required},setFormDirty(){this.firstName&&this.$v.$touch(),this.contactData.email&&this.$v.contactData.email.$touch()},trackStep(e){this.trackRegistrationStep("loyalty information",e)},emitSuccess(){this.trackStep(!0),this.$emit("submit-success")},emitError(){this.trackStep(!1)},handleSubmit(){var e=this;this.isPhoneUnique=!0,this.isEmailUnique=!0,this.formError=!1,this.checkUnique(this.contactData).then((function(t){e.isEmailUnique=t.uniqueEmail,e.isPhoneUnique=t.uniquePhone,e.isValidForm&&t.uniqueEmail&&t.uniquePhone?e.emitSuccess():t.uniqueEmail&&t.uniquePhone||e.emitError()})).catch((function(){e.formError=!0,e.emitError()}))},updateTooltip(){this.tooltipMessage="Enter your phone number or an alternate ID\n      number to enter when checking out in store if you don't have your ".concat(this.brandVars.cardName," with you.")}}),validations:{contactData:{firstName:i.a,lastName:o.a,address:b({required:n.required},c.a),additionalAddress:b({},c.a),city:b({required:n.required},c.a),state:{required:n.required},zip:l.a,email:{required:n.required,email:n.email,noEmailSpecialCharacters(e){return!!this.cmdmEnabled||(t=e,new RegExp(u.e).test(t));var t},unique(){return this.isEmailUnique=!0,!0}},phone:b(b({},d.a),{},{unique(){return this.isPhoneUnique=!0,!0}})}}},g=a("KHd+"),_=Object(g.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_container my-account"},[a("div",{staticClass:"headline headline--top-margin"},["STSH"===e.opco||"GNTL"===e.opco?a("h2",{directives:[{name:"setfocus",rawName:"v-setfocus"}],staticClass:"headline_heading headline_heading--bold",attrs:{tabindex:"-1"}},[e._v("\n      Set up "+e._s(e.brandName)+" "+e._s(e.rewardsProgramName)+"\n    ")]):a("h2",{directives:[{name:"setfocus",rawName:"v-setfocus"}],staticClass:"headline_heading headline_heading--bold",attrs:{tabindex:"-1"}},[e._v("\n      Set up "+e._s(e.rewardsProgramName)+"\n    ")]),e._v(" "),a("p",{staticClass:"text--secondary-dark leader--double"},[e._v("\n      Shop online, clip coupons, and get rewards every time you shop.\n    ")])]),e._v(" "),a("form",{staticClass:"form trailer--double",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("PdlBasicTextInput",{key:"email",attrs:{id:"email-input",type:"email","field-name":"email","input-label":"Email Address","secondary-label-text":e.emailSecondaryLabel,error:e.$v.contactData.email.$error||!e.isEmailUnique,"is-required":!0,disabled:e.isDisabled,"max-length":40},scopedSlots:e._u([{key:"errors",fn:function(){return[!1===e.$v.contactData.email.required?a("span",[e._v(e._s(e.emailMessage.required))]):e.$v.contactData.email.email?e.$v.contactData.email.noEmailSpecialCharacters?e.isEmailUnique?e._e():a("span",[e._v(e._s(e.emailMessage.loyaltyUnique)+" For help, call\n          "),a("a",{staticClass:"text--base-error text--underline",attrs:{href:"tel:"+e.consumerAffairsNumber}},[e._v("\n            "+e._s(e.consumerAffairsNumber)+".\n          ")])]):a("span",[e._v(e._s(e.noSpecialCharactersMessage))]):a("span",[e._v(e._s(e.emailMessage.format))])]},proxy:!0}]),model:{value:e.$v.contactData.email.$model,callback:function(t){e.$set(e.$v.contactData.email,"$model",t)},expression:"$v.contactData.email.$model"}},[e._v("\n      "+e._s(e.$v.contactData.email)+"\n      ")]),e._v(" "),e._l(e.formConfig,(function(t){return a("PdlBasicTextInput",{key:t.name,attrs:{id:t.name+"-input","field-name":t.name,"input-label":t.label,"is-required":!!t.required&&t.required,"max-length":t.maxLength,disabled:t.disabled,error:e.$v.contactData[t.name].$error},scopedSlots:e._u([t.errors?{key:"errors",fn:function(){return[e.isRequiredInputInvalid(t.name)?a("span",[e._v(e._s(t.errors.required))]):e.$v.contactData[t.name].format?e._e():a("span",[e._v(e._s(t.errors.format))])]},proxy:!0}:null],null,!0),model:{value:e.$v.contactData[t.name].$model,callback:function(a){e.$set(e.$v.contactData[t.name],"$model",a)},expression:"$v.contactData[field.name].$model"}})})),e._v(" "),a("div",{staticClass:"form_container_horizontal-divider"},[a("div",{staticClass:"form_container_horizontal-divider_half"},[a("div",{staticClass:"form_container_select-wrapper"},[Array.isArray(e.stateAndDistrictOptions)?a("PdlSelect",{attrs:{id:"state-select","field-label":"State",label:"- Select One -",options:e.stateAndDistrictOptions,"is-required":!0,error:e.$v.contactData.state.$error,selection:e.state},on:{input:e.updateStateSelection},scopedSlots:e._u([{key:"errors",fn:function(){return[e.$v.contactData.state.$error?a("span",[e._v(e._s(e.stateMessage.required))]):e._e()]},proxy:!0}],null,!1,1661623683)}):e._e()],1)]),e._v(" "),a("div",{staticClass:"form_container_horizontal-divider_half"},[a("PdlBasicTextInput",{attrs:{id:"zip-input","field-name":"zip",type:"text","input-label":"Zip Code","is-required":!0,"max-length":10,error:e.$v.contactData.zip.$error},scopedSlots:e._u([{key:"errors",fn:function(){return[e.$v.contactData.zip.required?e._e():a("span",[e._v(e._s(e.zipMessage.required))]),e._v(" "),!e.$v.contactData.zip.format&&e.$v.contactData.zip.required?a("span",[e._v(e._s(e.zipMessage.format))]):e._e()]},proxy:!0}]),model:{value:e.$v.contactData.zip.$model,callback:function(t){e.$set(e.$v.contactData.zip,"$model",t)},expression:"$v.contactData.zip.$model"}})],1)]),e._v(" "),a("PdlBasicTextInput",{attrs:{id:"alt-id","field-name":"phone",type:"tel","input-label":"Phone Number / Alternate ID (optional)",autocomplete:"off","wrapper-class":["forms_input-container--overflow-visible"],"placeholder-text":"Ex: 123-456-7890",error:e.$v.contactData.phone.$error||!e.isPhoneUnique,"max-length":20,"has-tooltip":!0,"tooltip-message":e.tooltipMessage},scopedSlots:e._u([{key:"errors",fn:function(){return[e.$v.contactData.phone.$error?a("span",[e._v(e._s(e.phoneMessage.format))]):e.isPhoneUnique?e._e():a("span",[e._v(e._s(e.phoneMessage.unique)+" "+e._s(e.customerCareMessage)+" at\n          "),a("a",{staticClass:"text--base-error text--underline",attrs:{href:"tel:"+e.consumerAffairsNumber}},[e._v("\n            "+e._s(e.consumerAffairsNumber)+".\n          ")])])]},proxy:!0}]),model:{value:e.$v.contactData.phone.$model,callback:function(t){e.$set(e.$v.contactData.phone,"$model",t)},expression:"$v.contactData.phone.$model"}}),e._v(" "),a("p",{staticClass:"text--base-strong text--align-center trailer--double panel-collapse text--base-error",attrs:{"aria-live":"polite"}},[e.formError?a("span",[e._v(e._s(e.formMessage.error))]):e._e()]),e._v(" "),a("div",{staticClass:"text--align-center"},[a("PdlLoadingButton",{attrs:{id:"registration-loyalty-contact-form",label:"Continue","is-loading":e.loading,"is-disabled":!e.isValidForm,classes:[e.isMobile?"button-width--full":"button-width--med",e.isValidForm?"button--prime":"button--disabled"]},on:{click:e.handleSubmit}},[e._v("\n        Continue\n      ")])],1)],2)])}),[],!1,null,null,null);t.a=_.exports}}]);
//# sourceMappingURL=5_b593cd238944a484cb6e0d47cfb0b2237f7e813c.js.map